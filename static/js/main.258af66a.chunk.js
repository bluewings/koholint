(window.webpackJsonpkoholint=window.webpackJsonpkoholint||[]).push([[0],{113:function(t,e,n){t.exports={root:"Main_root__1YQSg",logo:"Main_logo__1GFdy"}},114:function(t){t.exports=JSON.parse('{"format":"dz","width":5610,"height":3200,"channels":4,"premultiplied":false,"id":"koholint-2x","_tileImg":"koholint-2x/tiles/{z}/{x}_{y}.jpeg","tileImg":"tiles/{z}/{x}_{y}.jpeg","minZoom":8,"maxZoom":13,"tileSizes":{"8":[0,0],"9":[1,0],"10":[2,1],"11":[5,3],"12":[10,6],"13":[21,12]}}')},127:function(t,e,n){t.exports=n(199)},133:function(t,e,n){},134:function(t,e,n){},199:function(t,e,n){"use strict";n.r(e);var l,a=n(1),o=n.n(a),r=n(5),c=n.n(r),i=(n(132),n(133),n(134),n(36)),u=n(20),g=n(8),s=n(210),f=n(203),d=n(204),m=n(205),p=n(65),h=n(44),b=n(72),O=n(66),j=n(71),v=n(202),_=n(18),y=n(7),E=function(t){function e(){var t,n;Object(p.a)(this,e);for(var l=arguments.length,a=new Array(l),o=0;o<l;o++)a[o]=arguments[o];return(n=Object(b.a)(this,(t=Object(O.a)(e)).call.apply(t,[this].concat(a))))._tileSizes=void 0,n}return Object(j.a)(e,t),Object(h.a)(e,[{key:"createLeafletElement",value:function(t){var e=t.tileSizes,n=t.tileImg;return new(y.TileLayer.extend({createTile:function(t,l){var a=t.z,o=t.x,r=t.y;if(!e[a])return document.createElement("div");var c=Object(i.a)(e[a],2),u=c[0],g=c[1];if(o<0||r<0||u<o||g<r)return document.createElement("div");var s="".concat("https://koholint-island.s3.ap-northeast-2.amazonaws.com","/").concat(n).replace(/{z}/,a).replace(/{x}/,o).replace(/{y}/,r);0!==o&&0!==r&&o!==u&&r!==g||(s=s.replace(/\.jpeg$/,".png"));var f=document.createElement("img");return f.onload=function(){f.style.width="auto",f.style.height="auto",l(null,f)},f.src=s,f}}))}}]),e}(v.a),w=Object(_.b)(E),x=n(54),k=n.n(x),N=function(t,e){if(t&&e.width&&e.height){var n=t.maxZoom-function(t,e){var n=t.width,l=t.height,a=e.width,o=e.height;return Math.log(a/o>n/l?l/o:n/a)/Math.log(2)}(t,e),l=Math.max(n,t.maxZoom),a=Math.max(n,t.minZoom),o=Object(y.map)(document.createElement("DIV"),{maxZoom:l,minZoom:a,zoomSnap:0}),r=o.unproject([0,t.height],o.getMaxZoom()),c=o.unproject([t.width,0],o.getMaxZoom()),i=new y.LatLngBounds(r,c);return{style:{width:e.width,height:e.height},zoom:n,maxZoom:l,minZoom:a,zoomSnap:0,zoomControl:!1,attributionControl:!1,center:[(c.lat+r.lat)/2,(c.lng+r.lng)/2],maxBounds:i}}},C=function(t){return t},S=function(t,e){return Object(y.divIcon)({className:[k.a.marker,e&&k.a.done].filter(C).join(" "),iconSize:[28,36],iconAnchor:[14,36],popupAnchor:[0,-36],html:'<span class="icon-'.concat(t,'" />')})},L=["top","left","right","bottom","width","height"],z=function(t,e){var n=(e||"").toString(),l=Object(a.useMemo)((function(){return"function"===typeof e?e:function(t){return t}}),[n]),o=Object(a.useMemo)((function(){if("function"===typeof e)return function(t,n){return JSON.stringify(t)!==JSON.stringify(e(n))};var t=(e||[]).filter((function(t){return-1!==L.indexOf(t)})),n=t.length>0?t:L;return function(t,e){return n.reduce((function(n,l){return n||t[l]!==e[l]}),!1)}}),[(e||[]).toString()]),r=Object(a.useState)((function(){return l({top:null,left:null,right:null,bottom:null,width:null,height:null})})),c=Object(i.a)(r,2),u=c[0],g=c[1],s=Object(a.useRef)();s.current=u;var f=Object(a.useRef)();return Object(a.useEffect)((function(){return function e(){if(f.current&&cancelAnimationFrame(f.current),t.current&&t.current.parentNode){var n=t.current.parentNode.getBoundingClientRect(),a={top:n.top,left:n.left,right:n.right,bottom:n.bottom,width:n.width,height:n.height};if(o(s.current,a)){var r=l({top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.width,height:a.height});return s.current=r,void g(r)}}f.current=requestAnimationFrame(e)}(),function(){f.current&&cancelAnimationFrame(f.current)}}),[t.current||null,o,u]),u},G=(n(136),n(207)),M=n(19),P=n(211),D=n(208),T=n(73),Z=Object(P.a)("legend/TOGGLE_LEGEND",(function(){return null})),A=Object(P.a)("legend/TOGGLE_TYPE",(function(t){return{type:t}})),I=Object(P.a)("legend/TOGGLE_ICON",(function(t){return{type:t}})),B=Object(D.a)((l={},Object(g.a)(l,"legend/TOGGLE_LEGEND",(function(t,e){e.payload;return Object(T.a)(t,(function(t){t.show=!t.show}))})),Object(g.a)(l,"legend/TOGGLE_TYPE",(function(t,e){var n=e.payload;return Object(T.a)(t,(function(t){var e=n.type;-1!==t.exclude.indexOf(e)?t.exclude=t.exclude.filter((function(t){return t!==e})):t.exclude=[].concat(Object(u.a)(t.exclude),[e])}))})),Object(g.a)(l,"legend/TOGGLE_ICON",(function(t,e){var n=e.payload;return Object(T.a)(t,(function(t){var e=n.type;t.done[e]=!t.done[e]}))})),l),{show:!0,exclude:[],done:{}}),R=n(111),V=y.Control.extend({__test:null,onRemove:function(t){}}),F=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(b.a)(this,Object(O.a)(e).call(this,t))).leafletElement=void 0,n.__contentNode=void 0,n.__test=void 0,n.leafletElement=n.createLeafletElement(t),n}return Object(j.a)(e,t),Object(h.a)(e,[{key:"createLeafletElement",value:function(t){var e=this,n=new V(t);this.__contentNode=document.createElement("div");var l=this.__contentNode;return n.onAdd=function(t,n,a){var o=y.DomUtil.create("div");return e.__test=o,o.appendChild(l),o},n}},{key:"render",value:function(){return this.__contentNode&&this.props.children?Object(r.createPortal)(this.props.children,this.__contentNode):null}}]),e}(R.a),J=Object(_.b)(F),U=n(74),W=n.n(U),Y=n(9),X=n.n(Y);var $=function(t){var e=t.legends,n=Object(M.b)(),l=Object(M.c)((function(t){return Object(G.a)(t,["legend","show"])})),o=Object(M.c)((function(t){return Object(G.a)(t,["legend","exclude"])})),r=Object(a.useCallback)((function(t){t.preventDefault(),console.log(">>> type 2"),n(Z())}),[n]),c=Object(a.useCallback)((function(t){t.preventDefault(),t.stopPropagation();var e=q(t.target,"data-type");return console.log(">>> type 1"),n(A(e)),!1}),[n]),i=Object(a.useRef)();return Object(a.useEffect)((function(){i.current&&y.DomEvent.disableClickPropagation(i.current)}),[]),a.createElement(J,t,a.createElement("div",{ref:i,className:W.a.root,onClick:function(t){return t.preventDefault(),t.stopPropagation(),console.log(">>>>"),!1}},a.createElement("ul",null,l&&e.map((function(t,e){return a.createElement("li",{key:e,"data-type":t,onClick:c},a.createElement("i",{className:X()("icon-".concat(t),-1===o.indexOf(t)&&W.a.active)}))})),a.createElement("li",{key:"toggle",className:W.a.toggle},a.createElement("button",{type:"button",onClick:r},a.createElement("i",{className:"material-icons"},"keyboard_arrow_".concat(l?"up":"down")))))))},q=function(t,e){var n=t.getAttribute(e)?t:t.closest("[".concat(e,"]"));return n?n.getAttribute(e):null};var H=function(t){var e=Object(M.c)((function(t){return Object(G.a)(t,["legend","exclude"])}));return[Object(a.useMemo)((function(){return t.filter((function(t){return-1===e.indexOf(t)}))}),[t,e]),Object(a.useCallback)((function(e){return a.createElement($,Object.assign({},e,{legends:t}))}),[t])]},Q=[].concat(Object(u.a)([{lat:85.04523142802671,lng:-179.93785858154297},{lat:85.01384928049275,lng:-179.76207733154297},{lat:85.01845846442565,lng:-179.64847773313528},{lat:85.01268538977108,lng:-179.4273376464844},{lat:85.02533002426063,lng:-179.26815524697304},{lat:85.04000983840967,lng:-179.31987762451175},{lat:85.04600233423471,lng:-179.14306640625003},{lat:85.04009888874582,lng:-179.72190856933597},{lat:85.0451721225929,lng:-179.93785858154297}].map((function(t,e){var n=t.lat,l=t.lng;return{id:"monster_".concat(e),type:"monster",position:[n,l]}}))),Object(u.a)([{lat:85.04457902930932,lng:-179.87571716308594},{lat:85.03730788685448,lng:-179.879150390625},{lat:85.01813319628694,lng:-179.82505157589915},{lat:85.02045817079237,lng:-179.7237713634968},{lat:85.01044637665916,lng:-179.49600219726562},{lat:85.02422277951345,lng:-179.48501586914062},{lat:85.01275884040457,lng:-179.30322244763377},{lat:85.03423451262329,lng:-179.3198870122433}].map((function(t,e){var n=t.lat,l=t.lng;return{id:"phone_".concat(e),type:"phone",position:[n,l]}}))),Object(u.a)([{lat:85.04656631740812,lng:-179.94333424107683},{lat:85.04087217573034,lng:-179.86468903626826},{lat:85.03389168183678,lng:-179.83652787122764},{lat:85.03374310137288,lng:-179.71701463422596},{lat:85.03190033518396,lng:-179.92032450866557},{lat:85.02479038429773,lng:-179.89147648594104},{lat:85.02467130298872,lng:-179.87052732658154},{lat:85.0226167028393,lng:-179.77196324893936},{lat:85.01874098454203,lng:-179.93955652381527},{lat:85.01850253022316,lng:-179.7774581104107},{lat:85.01844291486437,lng:-179.7575392375771},{lat:85.01029873652313,lng:-179.5361203554716},{lat:85.0079992602938,lng:-179.4221019799413},{lat:85.01608753888331,lng:-179.5471100784143},{lat:85.02344620026466,lng:-179.6884234798752},{lat:85.02689925214611,lng:-179.66575717630596},{lat:85.0240714989667,lng:-179.62042456916737},{lat:85.02526232731427,lng:-179.456609011553},{lat:85.03468959416325,lng:-179.5407490778329},{lat:85.03751788440573,lng:-179.55088418868203},{lat:85.03751788440573,lng:-179.53027845816453},{lat:85.04235565359028,lng:-179.5529447617338},{lat:85.04484689994307,lng:-179.55328819057576},{lat:85.03892973059799,lng:-179.1445478851288},{lat:85.03180542858068,lng:-179.26106490251996},{lat:85.02478465303079,lng:-179.37130556078873},{lat:85.02573720225622,lng:-179.11613793121336},{lat:85.01852903215766,lng:-179.35482097637467},{lat:85.01470935274148,lng:-179.29160982090318},{lat:85.01509712953313,lng:-179.18342973568616},{lat:85.01516327772488,lng:-179.08771357424055},{lat:85.03781438952582,lng:-179.1052283390924}].map((function(t,e){var n=t.lat,l=t.lng;return{id:"heart_".concat(e),type:"heart",position:[n,l]}}))),Object(u.a)([{lat:85.04303790475231,lng:-179.81385954474683},{lat:85.03802265689117,lng:-179.87018248692675},{lat:85.0343990366048,lng:-179.94127302980021},{lat:85.03134375770176,lng:-179.82939278375872},{lat:85.02649526984702,lng:-179.8860591585129},{lat:85.0246498210538,lng:-179.89086721455266},{lat:85.0246498210538,lng:-179.86991782752233},{lat:85.01961601566491,lng:-179.88090766989887},{lat:85.01827479705634,lng:-179.77890819534133},{lat:85.02056955198034,lng:-179.76723148781622},{lat:85.0183046058281,lng:-179.75967597118236},{lat:85.01937760312845,lng:-179.70094900098252},{lat:85.02667382542616,lng:-179.7043833267252},{lat:85.00865636133997,lng:-179.91242645068752},{lat:85.01161224854634,lng:-179.83309352603163},{lat:85.01262699887633,lng:-179.76131611800966},{lat:85.00602743938782,lng:-179.68242216964265},{lat:85.00722257508313,lng:-179.59175597003593},{lat:85.00716282507456,lng:-179.4904433606269},{lat:85.00865636133997,lng:-179.4457971259721},{lat:85.0163261085114,lng:-179.4330901207242},{lat:85.01411890474262,lng:-179.60824073360078},{lat:85.01871117837484,lng:-179.49422111894384},{lat:85.01891981780939,lng:-179.59141253746165},{lat:85.01957548500039,lng:-179.6539172659784},{lat:85.0210102600795,lng:-179.5406986725857},{lat:85.02520924024311,lng:-179.50154735911917},{lat:85.03451776121017,lng:-179.48368886525725},{lat:85.03294278074631,lng:-179.52867853248634},{lat:85.03733959279208,lng:-179.5472238914968},{lat:85.03837893604472,lng:-179.64807737473083},{lat:85.04449108407525,lng:-179.64876423987934},{lat:85.0448518485879,lng:-179.40924953306433},{lat:85.04523728663546,lng:-179.2389069762275},{lat:85.04129254634952,lng:-179.25127054890112},{lat:85.03814637476918,lng:-179.23169489216784},{lat:85.04194527595573,lng:-179.20078596048376},{lat:85.04461464107736,lng:-179.14102869256115},{lat:85.02888951264123,lng:-179.26840266526088},{lat:85.03061445338183,lng:-179.1547264831782},{lat:85.01936185499864,lng:-179.14820126426707},{lat:85.02362177607861,lng:-179.31957411882675},{lat:85.01515795178655,lng:-179.21723121169495},{lat:85.01506846859422,lng:-179.1973121223874},{lat:85.0117913370975,lng:-179.3809809480003},{lat:85.00734207296055,lng:-179.18213348749921},{lat:85.00719270016799,lng:-179.0873706967623},{lat:85.01417857171714,lng:-179.0987039717131},{lat:85.0227357091262,lng:-179.11003724666395},{lat:85.03825941412963,lng:-179.1021382974558}].map((function(t,e){var n=t.lat,l=t.lng;return{id:"seashell_".concat(e),type:"seashell",position:[n,l]}}))),Object(u.a)([{lat:85.0225520261357,lng:-179.7738001014657},{lat:85.0308479925631,lng:-179.66085539669692},{lat:85.03512525126912,lng:-179.6382043982131}].map((function(t,e){var n=t.lat,l=t.lng;return{id:"moneyBag_".concat(e),type:"moneyBag",position:[n,l]}}))),Object(u.a)([{lat:85.01888967699189,lng:-179.94987487792972},{lat:85.025503067195,lng:-179.87537384033206},{lat:85.01808474780562,lng:-179.76860046386722},{lat:85.03736728618173,lng:-179.5475006103516},{lat:85.02514441508455,lng:-179.37150210142136},{lat:85.0374563838429,lng:-179.10427093505862}].map((function(t,e){var n=t.lat,l=t.lng;return{id:"house_".concat(e),type:"house",position:[n,l]}}))));function K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,l)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(n,!0).forEach((function(e){Object(g.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var et=["heart","seashell","monster","phone","moneyBag","house"],nt=et.reduce((function(t,e){var n;return tt({},t,(n={},Object(g.a)(n,e,S(e)),Object(g.a)(n,"".concat(e,"_done"),S(e,!0)),n))}),{}),lt=(Object.keys(nt),Q.reduce((function(t,e){return tt({},t,Object(g.a)({},e.type,[].concat(Object(u.a)(t[e.type]||[]),[e])))}),{}));var at=function(t){var e=t.data,n=Object(M.c)((function(t){return Object(G.a)(t,["legend","done"])})),l=Object(M.b)(),r=Object(a.useRef)(),c=z(r,["width","height"]),u=Object(a.useMemo)((function(){return N(e,c)}),[e,c]),g=function(t){l(I(t.target.options.id))},p=Object(a.useState)({}),h=Object(i.a)(p,2),b=h[0],O=h[1],j=Object(a.useCallback)((function(t){var e=t.latlng;O({zoom:t.target._zoom,center:[e.lat,e.lng]})}),[]),v=H(et),_=Object(i.a)(v,2),y=_[0],E=_[1];return o.a.createElement("div",{className:k.a.root,ref:r},u&&o.a.createElement(s.a,Object.assign({},u,b,{onClick:j}),o.a.createElement(w,e),y.map((function(t){return lt[t]?o.a.createElement(f.a,null,lt[t].map((function(e){return o.a.createElement(d.a,{icon:nt["".concat(t).concat(n[e.id]?"_done":"")],id:e.id,position:e.position,onClick:g})}))):null})),o.a.createElement(m.a,{position:"topright"}),o.a.createElement(E,{position:"topright"})))},ot=n(113),rt=n.n(ot),ct=n(206),it=n(209),ut=n(114);ct.a.Header,ct.a.Content,ct.a.Footer,ct.a.Sider,it.a.SubMenu;var gt,st,ft=function(t){return a.createElement("div",{className:rt.a.root},a.createElement(at,{data:ut}))},dt=n(124),mt=n(16),pt=n(69),ht=n(125),bt=n.n(ht),Ot=Object(mt.b)({legend:Object(pt.a)({key:"legend",storage:bt.a},B)});try{gt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||mt.c}catch(xt){gt=mt.c}var jt=gt();var vt=function(t){st=Object(mt.d)(Ot,t,jt);var e=Object(pt.b)(st);return{store:st,persistor:e}}(),_t=vt.store,yt=vt.persistor;var Et=function(t){return o.a.createElement(M.a,{store:_t},o.a.createElement(dt.a,{persistor:yt,loading:null},t.children))};var wt=function(){return o.a.createElement("div",null,o.a.createElement(Et,null,o.a.createElement(ft,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},54:function(t,e,n){t.exports={root:"Viewer_root__M28eU",marker:"Viewer_marker__3y7O9",done:"Viewer_done__vtUWV"}},74:function(t,e,n){t.exports={root:"LegendControl_root__12W5V",toggle:"LegendControl_toggle__3-c_h",active:"LegendControl_active__yil0r"}}},[[127,1,2]]]);
//# sourceMappingURL=main.258af66a.chunk.js.map