(window.webpackJsonpkoholint=window.webpackJsonpkoholint||[]).push([[0],[,,function(t,e,n){t.exports={root:"Map_root__1b4eQ",marker:"Map_marker__3Galn"}},,,,,function(t){t.exports=JSON.parse('{"format":"dz","width":5610,"height":3200,"channels":4,"premultiplied":false,"id":"koholint-2x","_tileImg":"koholint-2x/tiles/{z}/{x}_{y}.jpeg","tileImg":"koholint1/tiles/{z}/{x}_{y}.jpeg","minZoom":8,"maxZoom":13,"tileSizes":{"8":[0,0],"9":[1,0],"10":[2,1],"11":[5,3],"12":[10,6],"13":[21,12]}}')},function(t,e,n){t.exports={logo:"Main_logo__1GFdy"}},function(t,e,n){t.exports=n(19)},,,,,,function(t,e,n){},function(t,e,n){},,,function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),a=n(5),i=n.n(a),l=(n(14),n(15),n(16),n(1)),c=n(3),u=n.n(c),m=n(6),s=(n(18),"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js"),h=function(t){return new Promise((function(e,n){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src=t,r.onload=e,r.onerror=function(){return n(new Error("failed to load: ".concat(t.split("/").pop())))},o.appendChild(r)}))};var g=function(){var t,e=Object(o.useState)(!1),n=Object(l.a)(e,2),r=n[0],a=n[1];Object(o.useEffect)((function(){Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.L){t.next=3;break}return t.next=3,h(s);case 3:a(!0);case 4:case"end":return t.stop()}}),t)})))()}),[]);try{t=window.L}catch(i){}return Object(o.useMemo)((function(){return r&&t?t:void 0}),[r,t])},d=["top","left","right","bottom","width","height"],f=function(t,e){var n=(e||"").toString(),r=Object(o.useMemo)((function(){return"function"===typeof e?e:function(t){return t}}),[n]),a=Object(o.useMemo)((function(){if("function"===typeof e)return function(t,n){return JSON.stringify(t)!==JSON.stringify(e(n))};var t=(e||[]).filter((function(t){return-1!==d.indexOf(t)})),n=t.length>0?t:d;return function(t,e){return n.reduce((function(n,o){return n||t[o]!==e[o]}),!1)}}),[(e||[]).toString()]),i=Object(o.useState)((function(){return r({top:null,left:null,right:null,bottom:null,width:null,height:null})})),c=Object(l.a)(i,2),u=c[0],m=c[1],s=Object(o.useRef)();s.current=u;var h=Object(o.useRef)();return Object(o.useEffect)((function(){return function e(){if(h.current&&cancelAnimationFrame(h.current),t.current&&t.current.parentNode){var n=t.current.parentNode.getBoundingClientRect(),o={top:n.top,left:n.left,right:n.right,bottom:n.bottom,width:n.width,height:n.height};if(a(s.current,o)){var i=r({top:o.top,left:o.left,right:o.right,bottom:o.bottom,width:o.width,height:o.height});return s.current=i,void m(i)}}h.current=requestAnimationFrame(e)}(),function(){h.current&&cancelAnimationFrame(h.current)}}),[t.current||null,a,u]),u},p=n(2),v=n.n(p),w=n(7),b=[],j=[{lat:85.04523142802671,lng:-179.93785858154297},{lat:85.01384928049275,lng:-179.76207733154297},{lat:85.01845846442565,lng:-179.64847773313528},{lat:85.01268538977108,lng:-179.4273376464844},{lat:85.02533002426063,lng:-179.26815524697304},{lat:85.04000983840967,lng:-179.31987762451175},{lat:85.04600233423471,lng:-179.14306640625003},{lat:85.04009888874582,lng:-179.72190856933597},{lat:85.0451721225929,lng:-179.93785858154297}],x=[{lat:85.04457902930932,lng:-179.87571716308594},{lat:85.03730788685448,lng:-179.879150390625},{lat:85.01813319628694,lng:-179.82505157589915},{lat:85.02045817079237,lng:-179.7237713634968},{lat:85.01044637665916,lng:-179.49600219726562},{lat:85.02422277951345,lng:-179.48501586914062},{lat:85.01275884040457,lng:-179.30322244763377},{lat:85.03423451262329,lng:-179.3198870122433}],y=[{lat:85.01888967699189,lng:-179.94987487792972},{lat:85.025503067195,lng:-179.87537384033206},{lat:85.01808474780562,lng:-179.76860046386722},{lat:85.03736728618173,lng:-179.5475006103516},{lat:85.02514441508455,lng:-179.37150210142136},{lat:85.0374563838429,lng:-179.10427093505862}],O=[{lat:85.0225520261357,lng:-179.7738001014657},{lat:85.0308479925631,lng:-179.66085539669692},{lat:85.03512525126912,lng:-179.6382043982131}];function k(t){var e=t.L,n=t.deepzoom,r=Object(o.useRef)(),a=Object(o.useRef)(),i=f(a,["width","height"]),c=Object(o.useMemo)((function(){return i&&i.width&&i.height?[i.width,i.height]:[0,0]}),[i]),u=Object(l.a)(c,2),m=u[0],s=u[1],h=Object(o.useMemo)((function(){if(n&&m&&s){var t=M(n,{width:m,height:s}).zoom;return n.maxZoom-t}}),[m,s,n]),g="https://bluewings.github.io/koholint/assets";Object(o.useEffect)((function(){if(h&&a.current){var t=n.width,o=n.height,r=n.minZoom,i=n.maxZoom,c=n.tileImg,u=n.tileSizes;a.current.innerHTML="";var m=e.map(a.current,{maxZoom:Math.max(h,i),minZoom:Math.max(h,r),zoomControl:!1,attributionControl:!1,zoomSnap:0}),s=m.unproject([0,o],m.getMaxZoom()),d=m.unproject([t,0],m.getMaxZoom()),f=new e.LatLngBounds(s,d);m.setMaxBounds(f),m.setView([d.lng/2,s.lat/2],h);d.lng,s.lng,d.lat,s.lat;m.setView([(d.lng+s.lng)/2,(d.lat+s.lat)/2],h);var p=e.divIcon({className:v.a.marker,iconSize:[36,36],html:'<span class="icon-monster" />'}),w=j.map((function(t){var n=t.lat,o=t.lng;return e.marker([n,o],{icon:p})}));e.layerGroup(w).addTo(m);p=e.divIcon({className:v.a.marker,iconSize:[36,36],html:'<span class="icon-telephone" />'});var k=x.map((function(t){var n=t.lat,o=t.lng;return e.marker([n,o],{icon:p})}));e.layerGroup(k).addTo(m),new e.Control.Zoom({position:"bottomright"}).addTo(m);p=e.divIcon({className:v.a.marker,iconSize:[36,36],html:'<span class="icon-house" />'});var M=y.map((function(t){var n=t.lat,o=t.lng;return e.marker([n,o],{icon:p})}));e.layerGroup(M).addTo(m),new e.Control.Zoom({position:"bottomright"}).addTo(m);p=e.divIcon({className:v.a.marker,iconSize:[36,36],html:'<span class="icon-money-bag" />'});var E=O.map((function(t){var n=t.lat,o=t.lng;return e.marker([n,o],{icon:p})}));e.layerGroup(E).addTo(m),new e.Control.Zoom({position:"bottomright"}).addTo(m);var z=e.TileLayer.extend({createTile:function(t,e){var n=t.z,o=t.x,r=t.y;if(!u[n])return document.createElement("div");var a=Object(l.a)(u[n],2),i=a[0],m=a[1];if(o<0||r<0||i<o||m<r)return document.createElement("div");var s="".concat(g,"/").concat(c).replace(/{z}/,n).replace(/{x}/,o).replace(/{y}/,r);s=s.replace(/\.jpeg$/,".png");var h=document.createElement("img");return h.onload=function(){h.style.width="auto",h.style.height="auto",e(null,h)},h.src=s,h}});return m.on("click",(function(t){b.push(t.latlng),console.log(JSON.stringify(b))})),new z({minZoom:r,maxZoom:i,tms:!1,continuousWorld:"false",noWrap:!1,defaultRadius:1}).addTo(m),function(){try{m.remove()}catch(t){}}}}),[g,n,h,m,s]);var d=Object(o.useMemo)((function(){return m&&s?{width:m,height:s}:{}}),[m,s]);return o.createElement("div",null,o.createElement("div",{className:v.a.root,ref:r},o.createElement("div",{ref:a,style:d})))}var M=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.width,r=t.height,a=e.width,i=e.height,l=a/i,c=o/r,u=l>c?r/i:o/a,m=Math.log(u)/Math.log(2);n&&(m=Math.ceil(m),u=Math.pow(2,m));var s=Math.ceil(o/u),h=Math.ceil(r/u);return{scale:u,zoom:m,style:{width:s,height:h,top:(i-h)/2,left:(a-s)/2}}},E=function(t){var e=g();return o.createElement("div",null,e?o.createElement(k,{L:e,deepzoom:w}):null)},z=n(8),S=n.n(z);var Z=function(t){return o.createElement("div",{className:S.a.root},o.createElement(E,null))};var N=function(){return r.a.createElement("div",null,r.a.createElement(Z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.29e3986e.chunk.js.map